
const ajaxForm = new AjaxForm('form#form-auth');
const ajaxForm2 = new AjaxForm('form#datcuoc');


// Lấy các phần tử cần sử dụng
const openModalBtn = $('[data-toggle="modal"]');
const modal = $('.modal');
const closeModalBtn = $('.close-modal');
const hiddenBody = $('.hidden-body');

$('#huybo').click(() => {
    $("#quantity").val('')
})


// Xử lý sự kiện khi click vào nút mở modal
openModalBtn.on('click', function() {
    const id = openModalBtn.attr('id');
    const modal = $(`[modal-data="${id}"]`);
    modal.css('display', 'flex'); // Hiển thị modal
    hiddenBody.css('display', 'block'); // Hiển thị hidden body
});

// Xử lý sự kiện khi click vào nút đóng modal
closeModalBtn.on('click', function() {
    modal.css('display', 'none'); // Ẩn modal
    hiddenBody.css('display', 'none'); // Ẩn hidden body
});

// Xử lý sự kiện khi click bên ngoài modal để đóng modal
$(window).on('click', function(event) {
    if ($(event.target).is(modal) && !$(event.target).closest('form').length) {
        modal.css('display', 'none'); // Ẩn modal
        hiddenBody.css('display', 'none'); // Ẩn hidden body
    }
});

// Kết nối đến server
const socket = io();

// Nhận tin nhắn từ server
socket.on('message', function(message) {
    console.log('Received message:', message);
});

socket.on('gameData', function(data) {
    const jsonMessage = data;
    if (jsonMessage.type == "updategame") {
        const json = jsonMessage.data;
        $('#time').html(json.time);
        $('#teamA').html(json.TeamA);
        $('#teamB').html(json.TeamB);
        console.log(jsonMessage.data.TeamA);
    }
});